(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function Tr(t,e){const s=new Set(t.split(","));return e?r=>s.has(r.toLowerCase()):r=>s.has(r)}const J={},St=[],ge=()=>{},oo=()=>!1,Ss=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Or=t=>t.startsWith("onUpdate:"),ee=Object.assign,kr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},ao=Object.prototype.hasOwnProperty,q=(t,e)=>ao.call(t,e),L=Array.isArray,Et=t=>Es(t)==="[object Map]",Xn=t=>Es(t)==="[object Set]",U=t=>typeof t=="function",X=t=>typeof t=="string",Rt=t=>typeof t=="symbol",Y=t=>t!==null&&typeof t=="object",Qn=t=>(Y(t)||U(t))&&U(t.then)&&U(t.catch),Zn=Object.prototype.toString,Es=t=>Zn.call(t),lo=t=>Es(t).slice(8,-1),ei=t=>Es(t)==="[object Object]",xr=t=>X(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,hs=Tr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ts=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},co=/-(\w)/g,xt=Ts(t=>t.replace(co,(e,s)=>s?s.toUpperCase():"")),uo=/\B([A-Z])/g,jt=Ts(t=>t.replace(uo,"-$1").toLowerCase()),ti=Ts(t=>t.charAt(0).toUpperCase()+t.slice(1)),qs=Ts(t=>t?`on${ti(t)}`:""),Ve=(t,e)=>!Object.is(t,e),ds=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},ys=(t,e,s)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:s})},ir=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let tn;const si=()=>tn||(tn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Os(t){if(L(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=X(r)?go(r):Os(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(X(t)||Y(t))return t}const ho=/;(?![^(]*\))/g,fo=/:([^]+)/,po=/\/\*[^]*?\*\//g;function go(t){const e={};return t.replace(po,"").split(ho).forEach(s=>{if(s){const r=s.split(fo);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function $r(t){let e="";if(X(t))e=t;else if(L(t))for(let s=0;s<t.length;s++){const r=$r(t[s]);r&&(e+=r+" ")}else if(Y(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const _o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mo=Tr(_o);function ri(t){return!!t||t===""}const yo=t=>X(t)?t:t==null?"":L(t)||Y(t)&&(t.toString===Zn||!U(t.toString))?JSON.stringify(t,ni,2):String(t),ni=(t,e)=>e&&e.__v_isRef?ni(t,e.value):Et(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Bs(r,i)+" =>"]=n,s),{})}:Xn(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Bs(s))}:Rt(e)?Bs(e):Y(e)&&!L(e)&&!ei(e)?String(e):e,Bs=(t,e="")=>{var s;return Rt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};let ve;class vo{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ve,!e&&ve&&(this.index=(ve.scopes||(ve.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const s=ve;try{return ve=this,e()}finally{ve=s}}}on(){ve=this}off(){ve=this.parent}stop(e){if(this._active){let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.scopes)for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function bo(t,e=ve){e&&e.active&&e.effects.push(t)}function wo(){return ve}let st;class Cr{constructor(e,s,r,n){this.fn=e,this.trigger=s,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,bo(this,n)}get dirty(){if(this._dirtyLevel===1){this._dirtyLevel=0,this._queryings++,ot();for(const e of this.deps)if(e.computed&&(So(e.computed),this._dirtyLevel>=2))break;at(),this._queryings--}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=He,s=st;try{return He=!0,st=this,this._runnings++,sn(this),this.fn()}finally{rn(this),this._runnings--,st=s,He=e}}stop(){var e;this.active&&(sn(this),rn(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function So(t){return t.value}function sn(t){t._trackId++,t._depsLength=0}function rn(t){if(t.deps&&t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)ii(t.deps[e],t);t.deps.length=t._depsLength}}function ii(t,e){const s=t.get(e);s!==void 0&&e._trackId!==s&&(t.delete(e),t.size===0&&t.cleanup())}let He=!0,or=0;const oi=[];function ot(){oi.push(He),He=!1}function at(){const t=oi.pop();He=t===void 0?!0:t}function Pr(){or++}function Ar(){for(or--;!or&&ar.length;)ar.shift()()}function ai(t,e,s){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&ii(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const ar=[];function li(t,e,s){Pr();for(const r of t.keys())if(!(!r.allowRecurse&&r._runnings)&&r._dirtyLevel<e&&(!r._runnings||e!==2)){const n=r._dirtyLevel;r._dirtyLevel=e,n===0&&(!r._queryings||e!==2)&&(r.trigger(),r.scheduler&&ar.push(r.scheduler))}Ar()}const ci=(t,e)=>{const s=new Map;return s.cleanup=t,s.computed=e,s},lr=new WeakMap,rt=Symbol(""),cr=Symbol("");function le(t,e,s){if(He&&st){let r=lr.get(t);r||lr.set(t,r=new Map);let n=r.get(s);n||r.set(s,n=ci(()=>r.delete(s))),ai(st,n)}}function Ue(t,e,s,r,n,i){const o=lr.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(s==="length"&&L(t)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||!Rt(u)&&u>=l)&&a.push(c)})}else switch(s!==void 0&&a.push(o.get(s)),e){case"add":L(t)?xr(s)&&a.push(o.get("length")):(a.push(o.get(rt)),Et(t)&&a.push(o.get(cr)));break;case"delete":L(t)||(a.push(o.get(rt)),Et(t)&&a.push(o.get(cr)));break;case"set":Et(t)&&a.push(o.get(rt));break}Pr();for(const l of a)l&&li(l,3);Ar()}const Eo=Tr("__proto__,__v_isRef,__isVue"),ui=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Rt)),nn=To();function To(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const r=B(this);for(let i=0,o=this.length;i<o;i++)le(r,"get",i+"");const n=r[e](...s);return n===-1||n===!1?r[e](...s.map(B)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){ot(),Pr();const r=B(this)[e].apply(this,s);return Ar(),at(),r}}),t}function Oo(t){const e=B(this);return le(e,"has",t),e.hasOwnProperty(t)}class hi{constructor(e=!1,s=!1){this._isReadonly=e,this._shallow=s}get(e,s,r){const n=this._isReadonly,i=this._shallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Do:gi:i?pi:fi).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=L(e);if(!n){if(o&&q(nn,s))return Reflect.get(nn,s,r);if(s==="hasOwnProperty")return Oo}const a=Reflect.get(e,s,r);return(Rt(s)?ui.has(s):Eo(s))||(n||le(e,"get",s),i)?a:ce(a)?o&&xr(s)?a:a.value:Y(a)?n?_i(a):jr(a):a}}class di extends hi{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._shallow){const l=$t(i);if(!bt(r)&&!$t(r)&&(i=B(i),r=B(r)),!L(e)&&ce(i)&&!ce(r))return l?!1:(i.value=r,!0)}const o=L(e)&&xr(s)?Number(s)<e.length:q(e,s),a=Reflect.set(e,s,r,n);return e===B(n)&&(o?Ve(r,i)&&Ue(e,"set",s,r):Ue(e,"add",s,r)),a}deleteProperty(e,s){const r=q(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&Ue(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!Rt(s)||!ui.has(s))&&le(e,"has",s),r}ownKeys(e){return le(e,"iterate",L(e)?"length":rt),Reflect.ownKeys(e)}}class ko extends hi{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const xo=new di,$o=new ko,Co=new di(!0),Ir=t=>t,ks=t=>Reflect.getPrototypeOf(t);function ss(t,e,s=!1,r=!1){t=t.__v_raw;const n=B(t),i=B(e);s||(Ve(e,i)&&le(n,"get",e),le(n,"get",i));const{has:o}=ks(n),a=r?Ir:s?Ur:zt;if(o.call(n,e))return a(t.get(e));if(o.call(n,i))return a(t.get(i));t!==n&&t.get(e)}function rs(t,e=!1){const s=this.__v_raw,r=B(s),n=B(t);return e||(Ve(t,n)&&le(r,"has",t),le(r,"has",n)),t===n?s.has(t):s.has(t)||s.has(n)}function ns(t,e=!1){return t=t.__v_raw,!e&&le(B(t),"iterate",rt),Reflect.get(t,"size",t)}function on(t){t=B(t);const e=B(this);return ks(e).has.call(e,t)||(e.add(t),Ue(e,"add",t,t)),this}function an(t,e){e=B(e);const s=B(this),{has:r,get:n}=ks(s);let i=r.call(s,t);i||(t=B(t),i=r.call(s,t));const o=n.call(s,t);return s.set(t,e),i?Ve(e,o)&&Ue(s,"set",t,e):Ue(s,"add",t,e),this}function ln(t){const e=B(this),{has:s,get:r}=ks(e);let n=s.call(e,t);n||(t=B(t),n=s.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return n&&Ue(e,"delete",t,void 0),i}function cn(){const t=B(this),e=t.size!==0,s=t.clear();return e&&Ue(t,"clear",void 0,void 0),s}function is(t,e){return function(r,n){const i=this,o=i.__v_raw,a=B(o),l=e?Ir:t?Ur:zt;return!t&&le(a,"iterate",rt),o.forEach((c,u)=>r.call(n,l(c),l(u),i))}}function os(t,e,s){return function(...r){const n=this.__v_raw,i=B(n),o=Et(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...r),u=s?Ir:e?Ur:zt;return!e&&le(i,"iterate",l?cr:rt),{next(){const{value:f,done:p}=c.next();return p?{value:f,done:p}:{value:a?[u(f[0]),u(f[1])]:u(f),done:p}},[Symbol.iterator](){return this}}}}function De(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Po(){const t={get(i){return ss(this,i)},get size(){return ns(this)},has:rs,add:on,set:an,delete:ln,clear:cn,forEach:is(!1,!1)},e={get(i){return ss(this,i,!1,!0)},get size(){return ns(this)},has:rs,add:on,set:an,delete:ln,clear:cn,forEach:is(!1,!0)},s={get(i){return ss(this,i,!0)},get size(){return ns(this,!0)},has(i){return rs.call(this,i,!0)},add:De("add"),set:De("set"),delete:De("delete"),clear:De("clear"),forEach:is(!0,!1)},r={get(i){return ss(this,i,!0,!0)},get size(){return ns(this,!0)},has(i){return rs.call(this,i,!0)},add:De("add"),set:De("set"),delete:De("delete"),clear:De("clear"),forEach:is(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=os(i,!1,!1),s[i]=os(i,!0,!1),e[i]=os(i,!1,!0),r[i]=os(i,!0,!0)}),[t,s,e,r]}const[Ao,Io,Ro,jo]=Po();function Rr(t,e){const s=e?t?jo:Ro:t?Io:Ao;return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(q(s,n)&&n in r?s:r,n,i)}const Lo={get:Rr(!1,!1)},Uo={get:Rr(!1,!0)},No={get:Rr(!0,!1)},fi=new WeakMap,pi=new WeakMap,gi=new WeakMap,Do=new WeakMap;function Fo(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mo(t){return t.__v_skip||!Object.isExtensible(t)?0:Fo(lo(t))}function jr(t){return $t(t)?t:Lr(t,!1,xo,Lo,fi)}function qo(t){return Lr(t,!1,Co,Uo,pi)}function _i(t){return Lr(t,!0,$o,No,gi)}function Lr(t,e,s,r,n){if(!Y(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=Mo(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function Tt(t){return $t(t)?Tt(t.__v_raw):!!(t&&t.__v_isReactive)}function $t(t){return!!(t&&t.__v_isReadonly)}function bt(t){return!!(t&&t.__v_isShallow)}function mi(t){return Tt(t)||$t(t)}function B(t){const e=t&&t.__v_raw;return e?B(e):t}function yi(t){return ys(t,"__v_skip",!0),t}const zt=t=>Y(t)?jr(t):t,Ur=t=>Y(t)?_i(t):t;class vi{constructor(e,s,r,n){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Cr(()=>e(this._value),()=>ur(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=r}get value(){const e=B(this);return bi(e),(!e._cacheable||e.effect.dirty)&&Ve(e._value,e._value=e.effect.run())&&ur(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Bo(t,e,s=!1){let r,n;const i=U(t);return i?(r=t,n=ge):(r=t.get,n=t.set),new vi(r,n,i||!n,s)}function bi(t){He&&st&&(t=B(t),ai(st,t.dep||(t.dep=ci(()=>t.dep=void 0,t instanceof vi?t:void 0))))}function ur(t,e=3,s){t=B(t);const r=t.dep;r&&li(r,e)}function ce(t){return!!(t&&t.__v_isRef===!0)}function xe(t){return Ho(t,!1)}function Ho(t,e){return ce(t)?t:new Ko(t,e)}class Ko{constructor(e,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:B(e),this._value=s?e:zt(e)}get value(){return bi(this),this._value}set value(e){const s=this.__v_isShallow||bt(e)||$t(e);e=s?e:B(e),Ve(e,this._rawValue)&&(this._rawValue=e,this._value=s?e:zt(e),ur(this,3))}}function wi(t){return ce(t)?t.value:t}const Vo={get:(t,e,s)=>wi(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ce(n)&&!ce(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Si(t){return Tt(t)?t:new Proxy(t,Vo)}function Ke(t,e,s,r){let n;try{n=r?t(...r):t()}catch(i){xs(i,e,s)}return n}function Ee(t,e,s,r){if(U(t)){const i=Ke(t,e,s,r);return i&&Qn(i)&&i.catch(o=>{xs(o,e,s)}),i}const n=[];for(let i=0;i<t.length;i++)n.push(Ee(t[i],e,s,r));return n}function xs(t,e,s,r=!0){const n=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/errors/#runtime-${s}`;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){Ke(l,null,10,[t,o,a]);return}}zo(t,s,n,r)}function zo(t,e,s,r=!0){console.error(t)}let Jt=!1,hr=!1;const se=[];let Pe=0;const Ot=[];let je=null,et=0;const Ei=Promise.resolve();let Nr=null;function Jo(t){const e=Nr||Ei;return t?e.then(this?t.bind(this):t):e}function Wo(t){let e=Pe+1,s=se.length;for(;e<s;){const r=e+s>>>1,n=se[r],i=Wt(n);i<t||i===t&&n.pre?e=r+1:s=r}return e}function Dr(t){(!se.length||!se.includes(t,Jt&&t.allowRecurse?Pe+1:Pe))&&(t.id==null?se.push(t):se.splice(Wo(t.id),0,t),Ti())}function Ti(){!Jt&&!hr&&(hr=!0,Nr=Ei.then(ki))}function Go(t){const e=se.indexOf(t);e>Pe&&se.splice(e,1)}function Yo(t){L(t)?Ot.push(...t):(!je||!je.includes(t,t.allowRecurse?et+1:et))&&Ot.push(t),Ti()}function un(t,e,s=Jt?Pe+1:0){for(;s<se.length;s++){const r=se[s];if(r&&r.pre){if(t&&r.id!==t.uid)continue;se.splice(s,1),s--,r()}}}function Oi(t){if(Ot.length){const e=[...new Set(Ot)];if(Ot.length=0,je){je.push(...e);return}for(je=e,je.sort((s,r)=>Wt(s)-Wt(r)),et=0;et<je.length;et++)je[et]();je=null,et=0}}const Wt=t=>t.id==null?1/0:t.id,Xo=(t,e)=>{const s=Wt(t)-Wt(e);if(s===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function ki(t){hr=!1,Jt=!0,se.sort(Xo);try{for(Pe=0;Pe<se.length;Pe++){const e=se[Pe];e&&e.active!==!1&&Ke(e,null,14)}}finally{Pe=0,se.length=0,Oi(),Jt=!1,Nr=null,(se.length||Ot.length)&&ki()}}function Qo(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||J;let n=s;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:p}=r[u]||J;p&&(n=s.map(v=>X(v)?v.trim():v)),f&&(n=s.map(ir))}let a,l=r[a=qs(e)]||r[a=qs(xt(e))];!l&&i&&(l=r[a=qs(jt(e))]),l&&Ee(l,t,6,n);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ee(c,t,6,n)}}function xi(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!U(t)){const l=c=>{const u=xi(c,e,!0);u&&(a=!0,ee(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Y(t)&&r.set(t,null),null):(L(i)?i.forEach(l=>o[l]=null):ee(o,i),Y(t)&&r.set(t,o),o)}function $s(t,e){return!t||!Ss(e)?!1:(e=e.slice(2).replace(/Once$/,""),q(t,e[0].toLowerCase()+e.slice(1))||q(t,jt(e))||q(t,e))}let we=null,Cs=null;function vs(t){const e=we;return we=t,Cs=t&&t.type.__scopeId||null,e}function Zo(t){Cs=t}function ea(){Cs=null}function ta(t,e=we,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&bn(-1);const i=vs(e);let o;try{o=t(...n)}finally{vs(i),r._d&&bn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Hs(t){const{type:e,vnode:s,proxy:r,withProxy:n,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:p,setupState:v,ctx:E,inheritAttrs:b}=t;let k,I;const H=vs(t);try{if(s.shapeFlag&4){const R=n||r,A=R;k=Ce(u.call(A,R,f,i,v,p,E)),I=l}else{const R=e;k=Ce(R.length>1?R(i,{attrs:l,slots:a,emit:c}):R(i,null)),I=e.props?l:sa(l)}}catch(R){Ht.length=0,xs(R,t,1),k=Ae(it)}let $=k;if(I&&b!==!1){const R=Object.keys(I),{shapeFlag:A}=$;R.length&&A&7&&(o&&R.some(Or)&&(I=ra(I,o)),$=Ct($,I))}return s.dirs&&($=Ct($),$.dirs=$.dirs?$.dirs.concat(s.dirs):s.dirs),s.transition&&($.transition=s.transition),k=$,vs(H),k}const sa=t=>{let e;for(const s in t)(s==="class"||s==="style"||Ss(s))&&((e||(e={}))[s]=t[s]);return e},ra=(t,e)=>{const s={};for(const r in t)(!Or(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function na(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?hn(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const p=u[f];if(o[p]!==r[p]&&!$s(c,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?hn(r,o,c):!0:!!o;return!1}function hn(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!$s(s,i))return!0}return!1}function ia({vnode:t,parent:e},s){if(s)for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const oa=Symbol.for("v-ndc"),aa=t=>t.__isSuspense;function la(t,e){e&&e.pendingBranch?L(t)?e.effects.push(...t):e.effects.push(t):Yo(t)}const ca=Symbol.for("v-scx"),ua=()=>ps(ca),as={};function Ks(t,e,s){return $i(t,e,s)}function $i(t,e,{immediate:s,deep:r,flush:n,once:i,onTrack:o,onTrigger:a}=J){var l;if(e&&i){const A=e;e=(...Q)=>{A(...Q),R()}}const c=wo()===((l=re)==null?void 0:l.scope)?re:null;let u,f=!1,p=!1;if(ce(t)?(u=()=>t.value,f=bt(t)):Tt(t)?(u=bt(t)||r===!1?()=>Le(t,1):()=>Le(t),f=!0):L(t)?(p=!0,f=t.some(A=>Tt(A)||bt(A)),u=()=>t.map(A=>{if(ce(A))return A.value;if(Tt(A))return Le(A,bt(A)||r===!1?1:void 0);if(U(A))return Ke(A,c,2)})):U(t)?e?u=()=>Ke(t,c,2):u=()=>{if(!(c&&c.isUnmounted))return v&&v(),Ee(t,c,3,[E])}:u=ge,e&&r){const A=u;u=()=>Le(A())}let v,E=A=>{v=$.onStop=()=>{Ke(A,c,4),v=$.onStop=void 0}},b;if(js)if(E=ge,e?s&&Ee(e,c,3,[u(),p?[]:void 0,E]):u(),n==="sync"){const A=ua();b=A.__watcherHandles||(A.__watcherHandles=[])}else return ge;let k=p?new Array(t.length).fill(as):as;const I=()=>{if(!(!$.active||!$.dirty))if(e){const A=$.run();(r||f||(p?A.some((Q,fe)=>Ve(Q,k[fe])):Ve(A,k)))&&(v&&v(),Ee(e,c,3,[A,k===as?void 0:p&&k[0]===as?[]:k,E]),k=A)}else $.run()};I.allowRecurse=!!e;let H;n==="sync"?H=I:n==="post"?H=()=>ae(I,c&&c.suspense):(I.pre=!0,c&&(I.id=c.uid),H=()=>Dr(I));const $=new Cr(u,ge,H),R=()=>{$.stop(),c&&c.scope&&kr(c.scope.effects,$)};return e?s?I():k=$.run():n==="post"?ae($.run.bind($),c&&c.suspense):$.run(),b&&b.push(R),R}function ha(t,e,s){const r=this.proxy,n=X(t)?t.includes(".")?Ci(r,t):()=>r[t]:t.bind(r,r);let i;U(e)?i=e:(i=e.handler,s=e);const o=re;Pt(this);const a=$i(n,i.bind(r),s);return o?Pt(o):nt(),a}function Ci(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}function Le(t,e,s=0,r){if(!Y(t)||t.__v_skip)return t;if(e&&e>0){if(s>=e)return t;s++}if(r=r||new Set,r.has(t))return t;if(r.add(t),ce(t))Le(t.value,e,s,r);else if(L(t))for(let n=0;n<t.length;n++)Le(t[n],e,s,r);else if(Xn(t)||Et(t))t.forEach(n=>{Le(n,e,s,r)});else if(ei(t))for(const n in t)Le(t[n],e,s,r);return t}function Vs(t,e){const s=we;if(s===null)return t;const r=Ls(s)||s.proxy,n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,l,c=J]=e[i];o&&(U(o)&&(o={mounted:o,updated:o}),o.deep&&Le(a),n.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function Ge(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ot(),Ee(l,s,8,[t.el,a,t,e]),at())}}/*! #__NO_SIDE_EFFECTS__ */function Ps(t,e){return U(t)?ee({name:t.name},e,{setup:t}):t}const fs=t=>!!t.type.__asyncLoader,Pi=t=>t.type.__isKeepAlive;function da(t,e){Ai(t,"a",e)}function fa(t,e){Ai(t,"da",e)}function Ai(t,e,s=re){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(As(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Pi(n.parent.vnode)&&pa(r,e,s,n),n=n.parent}}function pa(t,e,s,r){const n=As(e,t,r,!0);ji(()=>{kr(r[e],n)},s)}function As(t,e,s=re,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(s.isUnmounted)return;ot(),Pt(s);const a=Ee(e,s,t,o);return nt(),at(),a});return r?n.unshift(i):n.push(i),i}}const Ne=t=>(e,s=re)=>(!js||t==="sp")&&As(t,(...r)=>e(...r),s),ga=Ne("bm"),Ii=Ne("m"),_a=Ne("bu"),ma=Ne("u"),Ri=Ne("bum"),ji=Ne("um"),ya=Ne("sp"),va=Ne("rtg"),ba=Ne("rtc");function wa(t,e=re){As("ec",t,e)}function Sa(t,e,s,r){let n;const i=s&&s[r];if(L(t)||X(t)){n=new Array(t.length);for(let o=0,a=t.length;o<a;o++)n[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,i&&i[o])}else if(Y(t))if(t[Symbol.iterator])n=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);n=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];n[a]=e(t[c],c,a,i&&i[a])}}else n=[];return s&&(s[r]=n),n}const dr=t=>t?zi(t)?Ls(t)||t.proxy:dr(t.parent):null,Bt=ee(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>dr(t.parent),$root:t=>dr(t.root),$emit:t=>t.emit,$options:t=>Fr(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Dr(t.update)}),$nextTick:t=>t.n||(t.n=Jo.bind(t.proxy)),$watch:t=>ha.bind(t)}),zs=(t,e)=>t!==J&&!t.__isScriptSetup&&q(t,e),Ea={get({_:t},e){const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const v=o[e];if(v!==void 0)switch(v){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(zs(r,e))return o[e]=1,r[e];if(n!==J&&q(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&q(c,e))return o[e]=3,i[e];if(s!==J&&q(s,e))return o[e]=4,s[e];fr&&(o[e]=0)}}const u=Bt[e];let f,p;if(u)return e==="$attrs"&&le(t,"get",e),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(s!==J&&q(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,q(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return zs(n,e)?(n[e]=s,!0):r!==J&&q(r,e)?(r[e]=s,!0):q(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==J&&q(t,o)||zs(e,o)||(a=i[0])&&q(a,o)||q(r,o)||q(Bt,o)||q(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:q(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function dn(t){return L(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let fr=!0;function Ta(t){const e=Fr(t),s=t.proxy,r=t.ctx;fr=!1,e.beforeCreate&&fn(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:p,beforeUpdate:v,updated:E,activated:b,deactivated:k,beforeDestroy:I,beforeUnmount:H,destroyed:$,unmounted:R,render:A,renderTracked:Q,renderTriggered:fe,errorCaptured:ue,serverPrefetch:ct,expose:Ie,inheritAttrs:ze,components:Qt,directives:Zt,filters:Ds}=e;if(c&&Oa(c,r,null),o)for(const G in o){const V=o[G];U(V)&&(r[G]=V.bind(s))}if(n){const G=n.call(s,s);Y(G)&&(t.data=jr(G))}if(fr=!0,i)for(const G in i){const V=i[G],Je=U(V)?V.bind(s,s):U(V.get)?V.get.bind(s,s):ge,es=!U(V)&&U(V.set)?V.set.bind(s):ge,We=ms({get:Je,set:es});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>We.value,set:Te=>We.value=Te})}if(a)for(const G in a)Li(a[G],r,s,G);if(l){const G=U(l)?l.call(s):l;Reflect.ownKeys(G).forEach(V=>{Aa(V,G[V])})}u&&fn(u,t,"c");function ne(G,V){L(V)?V.forEach(Je=>G(Je.bind(s))):V&&G(V.bind(s))}if(ne(ga,f),ne(Ii,p),ne(_a,v),ne(ma,E),ne(da,b),ne(fa,k),ne(wa,ue),ne(ba,Q),ne(va,fe),ne(Ri,H),ne(ji,R),ne(ya,ct),L(Ie))if(Ie.length){const G=t.exposed||(t.exposed={});Ie.forEach(V=>{Object.defineProperty(G,V,{get:()=>s[V],set:Je=>s[V]=Je})})}else t.exposed||(t.exposed={});A&&t.render===ge&&(t.render=A),ze!=null&&(t.inheritAttrs=ze),Qt&&(t.components=Qt),Zt&&(t.directives=Zt)}function Oa(t,e,s=ge){L(t)&&(t=pr(t));for(const r in t){const n=t[r];let i;Y(n)?"default"in n?i=ps(n.from||r,n.default,!0):i=ps(n.from||r):i=ps(n),ce(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function fn(t,e,s){Ee(L(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Li(t,e,s,r){const n=r.includes(".")?Ci(s,r):()=>s[r];if(X(t)){const i=e[t];U(i)&&Ks(n,i)}else if(U(t))Ks(n,t.bind(s));else if(Y(t))if(L(t))t.forEach(i=>Li(i,e,s,r));else{const i=U(t.handler)?t.handler.bind(s):e[t.handler];U(i)&&Ks(n,i,t)}}function Fr(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(c=>bs(l,c,o,!0)),bs(l,e,o)),Y(e)&&i.set(e,l),l}function bs(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&bs(t,i,s,!0),n&&n.forEach(o=>bs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=ka[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const ka={data:pn,props:gn,emits:gn,methods:Mt,computed:Mt,beforeCreate:ie,created:ie,beforeMount:ie,mounted:ie,beforeUpdate:ie,updated:ie,beforeDestroy:ie,beforeUnmount:ie,destroyed:ie,unmounted:ie,activated:ie,deactivated:ie,errorCaptured:ie,serverPrefetch:ie,components:Mt,directives:Mt,watch:$a,provide:pn,inject:xa};function pn(t,e){return e?t?function(){return ee(U(t)?t.call(this,this):t,U(e)?e.call(this,this):e)}:e:t}function xa(t,e){return Mt(pr(t),pr(e))}function pr(t){if(L(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ie(t,e){return t?[...new Set([].concat(t,e))]:e}function Mt(t,e){return t?ee(Object.create(null),t,e):e}function gn(t,e){return t?L(t)&&L(e)?[...new Set([...t,...e])]:ee(Object.create(null),dn(t),dn(e??{})):e}function $a(t,e){if(!t)return e;if(!e)return t;const s=ee(Object.create(null),t);for(const r in e)s[r]=ie(t[r],e[r]);return s}function Ui(){return{app:null,config:{isNativeTag:oo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ca=0;function Pa(t,e){return function(r,n=null){U(r)||(r=ee({},r)),n!=null&&!Y(n)&&(n=null);const i=Ui(),o=new WeakSet;let a=!1;const l=i.app={_uid:Ca++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:sl,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&U(c.install)?(o.add(c),c.install(l,...u)):U(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,f){if(!a){const p=Ae(r,n);return p.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),u&&e?e(p,c):t(p,c,f),a=!0,l._container=c,c.__vue_app__=l,Ls(p.component)||p.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){ws=l;try{return c()}finally{ws=null}}};return l}}let ws=null;function Aa(t,e){if(re){let s=re.provides;const r=re.parent&&re.parent.provides;r===s&&(s=re.provides=Object.create(r)),s[t]=e}}function ps(t,e,s=!1){const r=re||we;if(r||ws){const n=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:ws._context.provides;if(n&&t in n)return n[t];if(arguments.length>1)return s&&U(e)?e.call(r&&r.proxy):e}}function Ia(t,e,s,r=!1){const n={},i={};ys(i,Rs,1),t.propsDefaults=Object.create(null),Ni(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:qo(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Ra(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=B(n),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let p=u[f];if($s(t.emitsOptions,p))continue;const v=e[p];if(l)if(q(i,p))v!==i[p]&&(i[p]=v,c=!0);else{const E=xt(p);n[E]=gr(l,a,E,v,t,!1)}else v!==i[p]&&(i[p]=v,c=!0)}}}else{Ni(t,e,n,i)&&(c=!0);let u;for(const f in a)(!e||!q(e,f)&&((u=jt(f))===f||!q(e,u)))&&(l?s&&(s[f]!==void 0||s[u]!==void 0)&&(n[f]=gr(l,a,f,void 0,t,!0)):delete n[f]);if(i!==a)for(const f in i)(!e||!q(e,f))&&(delete i[f],c=!0)}c&&Ue(t,"set","$attrs")}function Ni(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(hs(l))continue;const c=e[l];let u;n&&q(n,u=xt(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:$s(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=B(s),c=a||J;for(let u=0;u<i.length;u++){const f=i[u];s[f]=gr(n,l,f,c[f],t,!q(c,f))}}return o}function gr(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=q(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&U(l)){const{propsDefaults:c}=n;s in c?r=c[s]:(Pt(n),r=c[s]=l.call(null,e),nt())}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===jt(s))&&(r=!0))}return r}function Di(t,e,s=!1){const r=e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!U(t)){const u=f=>{l=!0;const[p,v]=Di(f,e,!0);ee(o,p),v&&a.push(...v)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Y(t)&&r.set(t,St),St;if(L(i))for(let u=0;u<i.length;u++){const f=xt(i[u]);_n(f)&&(o[f]=J)}else if(i)for(const u in i){const f=xt(u);if(_n(f)){const p=i[u],v=o[f]=L(p)||U(p)?{type:p}:ee({},p);if(v){const E=vn(Boolean,v.type),b=vn(String,v.type);v[0]=E>-1,v[1]=b<0||E<b,(E>-1||q(v,"default"))&&a.push(f)}}}const c=[o,a];return Y(t)&&r.set(t,c),c}function _n(t){return t[0]!=="$"}function mn(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function yn(t,e){return mn(t)===mn(e)}function vn(t,e){return L(e)?e.findIndex(s=>yn(s,t)):U(e)&&yn(e,t)?0:-1}const Fi=t=>t[0]==="_"||t==="$stable",Mr=t=>L(t)?t.map(Ce):[Ce(t)],ja=(t,e,s)=>{if(e._n)return e;const r=ta((...n)=>Mr(e(...n)),s);return r._c=!1,r},Mi=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Fi(n))continue;const i=t[n];if(U(i))e[n]=ja(n,i,r);else if(i!=null){const o=Mr(i);e[n]=()=>o}}},qi=(t,e)=>{const s=Mr(e);t.slots.default=()=>s},La=(t,e)=>{if(t.vnode.shapeFlag&32){const s=e._;s?(t.slots=B(e),ys(e,"_",s)):Mi(e,t.slots={})}else t.slots={},e&&qi(t,e);ys(t.slots,Rs,1)},Ua=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=J;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:(ee(n,e),!s&&a===1&&delete n._):(i=!e.$stable,Mi(e,n)),o=e}else e&&(qi(t,e),o={default:1});if(i)for(const a in n)!Fi(a)&&o[a]==null&&delete n[a]};function _r(t,e,s,r,n=!1){if(L(t)){t.forEach((p,v)=>_r(p,e&&(L(e)?e[v]:e),s,r,n));return}if(fs(r)&&!n)return;const i=r.shapeFlag&4?Ls(r.component)||r.component.proxy:r.el,o=n?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===J?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(X(c)?(u[c]=null,q(f,c)&&(f[c]=null)):ce(c)&&(c.value=null)),U(l))Ke(l,a,12,[o,u]);else{const p=X(l),v=ce(l);if(p||v){const E=()=>{if(t.f){const b=p?q(f,l)?f[l]:u[l]:l.value;n?L(b)&&kr(b,i):L(b)?b.includes(i)||b.push(i):p?(u[l]=[i],q(f,l)&&(f[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,q(f,l)&&(f[l]=o)):v&&(l.value=o,t.k&&(u[t.k]=o))};o?(E.id=-1,ae(E,s)):E()}}}const ae=la;function Na(t){return Da(t)}function Da(t,e){const s=si();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:p,setScopeId:v=ge,insertStaticContent:E}=t,b=(h,d,g,_=null,m=null,S=null,O=void 0,w=null,T=!!d.dynamicChildren)=>{if(h===d)return;h&&!Dt(h,d)&&(_=ts(h),Te(h,m,S,!0),h=null),d.patchFlag===-2&&(T=!1,d.dynamicChildren=null);const{type:y,ref:x,shapeFlag:P}=d;switch(y){case Is:k(h,d,g,_);break;case it:I(h,d,g,_);break;case Ws:h==null&&H(d,g,_,O);break;case $e:Qt(h,d,g,_,m,S,O,w,T);break;default:P&1?A(h,d,g,_,m,S,O,w,T):P&6?Zt(h,d,g,_,m,S,O,w,T):(P&64||P&128)&&y.process(h,d,g,_,m,S,O,w,T,ut)}x!=null&&m&&_r(x,h&&h.ref,S,d||h,!d)},k=(h,d,g,_)=>{if(h==null)r(d.el=a(d.children),g,_);else{const m=d.el=h.el;d.children!==h.children&&c(m,d.children)}},I=(h,d,g,_)=>{h==null?r(d.el=l(d.children||""),g,_):d.el=h.el},H=(h,d,g,_)=>{[h.el,h.anchor]=E(h.children,d,g,_,h.el,h.anchor)},$=({el:h,anchor:d},g,_)=>{let m;for(;h&&h!==d;)m=p(h),r(h,g,_),h=m;r(d,g,_)},R=({el:h,anchor:d})=>{let g;for(;h&&h!==d;)g=p(h),n(h),h=g;n(d)},A=(h,d,g,_,m,S,O,w,T)=>{d.type==="svg"?O="svg":d.type==="math"&&(O="mathml"),h==null?Q(d,g,_,m,S,O,w,T):ct(h,d,m,S,O,w,T)},Q=(h,d,g,_,m,S,O,w)=>{let T,y;const{props:x,shapeFlag:P,transition:C,dirs:j}=h;if(T=h.el=o(h.type,S,x&&x.is,x),P&8?u(T,h.children):P&16&&ue(h.children,T,null,_,m,Js(h,S),O,w),j&&Ge(h,null,_,"created"),fe(T,h,h.scopeId,O,_),x){for(const K in x)K!=="value"&&!hs(K)&&i(T,K,null,x[K],S,h.children,_,m,Re);"value"in x&&i(T,"value",null,x.value,S),(y=x.onVnodeBeforeMount)&&ke(y,_,h)}j&&Ge(h,null,_,"beforeMount");const N=Fa(m,C);N&&C.beforeEnter(T),r(T,d,g),((y=x&&x.onVnodeMounted)||N||j)&&ae(()=>{y&&ke(y,_,h),N&&C.enter(T),j&&Ge(h,null,_,"mounted")},m)},fe=(h,d,g,_,m)=>{if(g&&v(h,g),_)for(let S=0;S<_.length;S++)v(h,_[S]);if(m){let S=m.subTree;if(d===S){const O=m.vnode;fe(h,O,O.scopeId,O.slotScopeIds,m.parent)}}},ue=(h,d,g,_,m,S,O,w,T=0)=>{for(let y=T;y<h.length;y++){const x=h[y]=w?Fe(h[y]):Ce(h[y]);b(null,x,d,g,_,m,S,O,w)}},ct=(h,d,g,_,m,S,O)=>{const w=d.el=h.el;let{patchFlag:T,dynamicChildren:y,dirs:x}=d;T|=h.patchFlag&16;const P=h.props||J,C=d.props||J;let j;if(g&&Ye(g,!1),(j=C.onVnodeBeforeUpdate)&&ke(j,g,d,h),x&&Ge(d,h,g,"beforeUpdate"),g&&Ye(g,!0),y?Ie(h.dynamicChildren,y,w,g,_,Js(d,m),S):O||V(h,d,w,null,g,_,Js(d,m),S,!1),T>0){if(T&16)ze(w,d,P,C,g,_,m);else if(T&2&&P.class!==C.class&&i(w,"class",null,C.class,m),T&4&&i(w,"style",P.style,C.style,m),T&8){const N=d.dynamicProps;for(let K=0;K<N.length;K++){const W=N[K],Z=P[W],me=C[W];(me!==Z||W==="value")&&i(w,W,Z,me,m,h.children,g,_,Re)}}T&1&&h.children!==d.children&&u(w,d.children)}else!O&&y==null&&ze(w,d,P,C,g,_,m);((j=C.onVnodeUpdated)||x)&&ae(()=>{j&&ke(j,g,d,h),x&&Ge(d,h,g,"updated")},_)},Ie=(h,d,g,_,m,S,O)=>{for(let w=0;w<d.length;w++){const T=h[w],y=d[w],x=T.el&&(T.type===$e||!Dt(T,y)||T.shapeFlag&70)?f(T.el):g;b(T,y,x,null,_,m,S,O,!0)}},ze=(h,d,g,_,m,S,O)=>{if(g!==_){if(g!==J)for(const w in g)!hs(w)&&!(w in _)&&i(h,w,g[w],null,O,d.children,m,S,Re);for(const w in _){if(hs(w))continue;const T=_[w],y=g[w];T!==y&&w!=="value"&&i(h,w,y,T,O,d.children,m,S,Re)}"value"in _&&i(h,"value",g.value,_.value,O)}},Qt=(h,d,g,_,m,S,O,w,T)=>{const y=d.el=h?h.el:a(""),x=d.anchor=h?h.anchor:a("");let{patchFlag:P,dynamicChildren:C,slotScopeIds:j}=d;j&&(w=w?w.concat(j):j),h==null?(r(y,g,_),r(x,g,_),ue(d.children,g,x,m,S,O,w,T)):P>0&&P&64&&C&&h.dynamicChildren?(Ie(h.dynamicChildren,C,g,m,S,O,w),(d.key!=null||m&&d===m.subTree)&&Bi(h,d,!0)):V(h,d,g,x,m,S,O,w,T)},Zt=(h,d,g,_,m,S,O,w,T)=>{d.slotScopeIds=w,h==null?d.shapeFlag&512?m.ctx.activate(d,g,_,O,T):Ds(d,g,_,m,S,O,T):Gr(h,d,T)},Ds=(h,d,g,_,m,S,O)=>{const w=h.component=Ya(h,_,m);if(Pi(h)&&(w.ctx.renderer=ut),Xa(w),w.asyncDep){if(m&&m.registerDep(w,ne),!h.el){const T=w.subTree=Ae(it);I(null,T,d,g)}}else ne(w,h,d,g,m,S,O)},Gr=(h,d,g)=>{const _=d.component=h.component;if(na(h,d,g))if(_.asyncDep&&!_.asyncResolved){G(_,d,g);return}else _.next=d,Go(_.update),_.effect.dirty=!0,_.update();else d.el=h.el,_.vnode=d},ne=(h,d,g,_,m,S,O)=>{const w=()=>{if(h.isMounted){let{next:x,bu:P,u:C,parent:j,vnode:N}=h;{const ht=Hi(h);if(ht){x&&(x.el=N.el,G(h,x,O)),ht.asyncDep.then(()=>{h.isUnmounted||w()});return}}let K=x,W;Ye(h,!1),x?(x.el=N.el,G(h,x,O)):x=N,P&&ds(P),(W=x.props&&x.props.onVnodeBeforeUpdate)&&ke(W,j,x,N),Ye(h,!0);const Z=Hs(h),me=h.subTree;h.subTree=Z,b(me,Z,f(me.el),ts(me),h,m,S),x.el=Z.el,K===null&&ia(h,Z.el),C&&ae(C,m),(W=x.props&&x.props.onVnodeUpdated)&&ae(()=>ke(W,j,x,N),m)}else{let x;const{el:P,props:C}=d,{bm:j,m:N,parent:K}=h,W=fs(d);if(Ye(h,!1),j&&ds(j),!W&&(x=C&&C.onVnodeBeforeMount)&&ke(x,K,d),Ye(h,!0),P&&Ms){const Z=()=>{h.subTree=Hs(h),Ms(P,h.subTree,h,m,null)};W?d.type.__asyncLoader().then(()=>!h.isUnmounted&&Z()):Z()}else{const Z=h.subTree=Hs(h);b(null,Z,g,_,h,m,S),d.el=Z.el}if(N&&ae(N,m),!W&&(x=C&&C.onVnodeMounted)){const Z=d;ae(()=>ke(x,K,Z),m)}(d.shapeFlag&256||K&&fs(K.vnode)&&K.vnode.shapeFlag&256)&&h.a&&ae(h.a,m),h.isMounted=!0,d=g=_=null}},T=h.effect=new Cr(w,ge,()=>Dr(y),h.scope),y=h.update=()=>{T.dirty&&T.run()};y.id=h.uid,Ye(h,!0),y()},G=(h,d,g)=>{d.component=h;const _=h.vnode.props;h.vnode=d,h.next=null,Ra(h,d.props,_,g),Ua(h,d.children,g),ot(),un(h),at()},V=(h,d,g,_,m,S,O,w,T=!1)=>{const y=h&&h.children,x=h?h.shapeFlag:0,P=d.children,{patchFlag:C,shapeFlag:j}=d;if(C>0){if(C&128){es(y,P,g,_,m,S,O,w,T);return}else if(C&256){Je(y,P,g,_,m,S,O,w,T);return}}j&8?(x&16&&Re(y,m,S),P!==y&&u(g,P)):x&16?j&16?es(y,P,g,_,m,S,O,w,T):Re(y,m,S,!0):(x&8&&u(g,""),j&16&&ue(P,g,_,m,S,O,w,T))},Je=(h,d,g,_,m,S,O,w,T)=>{h=h||St,d=d||St;const y=h.length,x=d.length,P=Math.min(y,x);let C;for(C=0;C<P;C++){const j=d[C]=T?Fe(d[C]):Ce(d[C]);b(h[C],j,g,null,m,S,O,w,T)}y>x?Re(h,m,S,!0,!1,P):ue(d,g,_,m,S,O,w,T,P)},es=(h,d,g,_,m,S,O,w,T)=>{let y=0;const x=d.length;let P=h.length-1,C=x-1;for(;y<=P&&y<=C;){const j=h[y],N=d[y]=T?Fe(d[y]):Ce(d[y]);if(Dt(j,N))b(j,N,g,null,m,S,O,w,T);else break;y++}for(;y<=P&&y<=C;){const j=h[P],N=d[C]=T?Fe(d[C]):Ce(d[C]);if(Dt(j,N))b(j,N,g,null,m,S,O,w,T);else break;P--,C--}if(y>P){if(y<=C){const j=C+1,N=j<x?d[j].el:_;for(;y<=C;)b(null,d[y]=T?Fe(d[y]):Ce(d[y]),g,N,m,S,O,w,T),y++}}else if(y>C)for(;y<=P;)Te(h[y],m,S,!0),y++;else{const j=y,N=y,K=new Map;for(y=N;y<=C;y++){const he=d[y]=T?Fe(d[y]):Ce(d[y]);he.key!=null&&K.set(he.key,y)}let W,Z=0;const me=C-N+1;let ht=!1,Qr=0;const Nt=new Array(me);for(y=0;y<me;y++)Nt[y]=0;for(y=j;y<=P;y++){const he=h[y];if(Z>=me){Te(he,m,S,!0);continue}let Oe;if(he.key!=null)Oe=K.get(he.key);else for(W=N;W<=C;W++)if(Nt[W-N]===0&&Dt(he,d[W])){Oe=W;break}Oe===void 0?Te(he,m,S,!0):(Nt[Oe-N]=y+1,Oe>=Qr?Qr=Oe:ht=!0,b(he,d[Oe],g,null,m,S,O,w,T),Z++)}const Zr=ht?Ma(Nt):St;for(W=Zr.length-1,y=me-1;y>=0;y--){const he=N+y,Oe=d[he],en=he+1<x?d[he+1].el:_;Nt[y]===0?b(null,Oe,g,en,m,S,O,w,T):ht&&(W<0||y!==Zr[W]?We(Oe,g,en,2):W--)}}},We=(h,d,g,_,m=null)=>{const{el:S,type:O,transition:w,children:T,shapeFlag:y}=h;if(y&6){We(h.component.subTree,d,g,_);return}if(y&128){h.suspense.move(d,g,_);return}if(y&64){O.move(h,d,g,ut);return}if(O===$e){r(S,d,g);for(let P=0;P<T.length;P++)We(T[P],d,g,_);r(h.anchor,d,g);return}if(O===Ws){$(h,d,g);return}if(_!==2&&y&1&&w)if(_===0)w.beforeEnter(S),r(S,d,g),ae(()=>w.enter(S),m);else{const{leave:P,delayLeave:C,afterLeave:j}=w,N=()=>r(S,d,g),K=()=>{P(S,()=>{N(),j&&j()})};C?C(S,N,K):K()}else r(S,d,g)},Te=(h,d,g,_=!1,m=!1)=>{const{type:S,props:O,ref:w,children:T,dynamicChildren:y,shapeFlag:x,patchFlag:P,dirs:C}=h;if(w!=null&&_r(w,null,g,h,!0),x&256){d.ctx.deactivate(h);return}const j=x&1&&C,N=!fs(h);let K;if(N&&(K=O&&O.onVnodeBeforeUnmount)&&ke(K,d,h),x&6)io(h.component,g,_);else{if(x&128){h.suspense.unmount(g,_);return}j&&Ge(h,null,d,"beforeUnmount"),x&64?h.type.remove(h,d,g,m,ut,_):y&&(S!==$e||P>0&&P&64)?Re(y,d,g,!1,!0):(S===$e&&P&384||!m&&x&16)&&Re(T,d,g),_&&Yr(h)}(N&&(K=O&&O.onVnodeUnmounted)||j)&&ae(()=>{K&&ke(K,d,h),j&&Ge(h,null,d,"unmounted")},g)},Yr=h=>{const{type:d,el:g,anchor:_,transition:m}=h;if(d===$e){no(g,_);return}if(d===Ws){R(h);return}const S=()=>{n(g),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(h.shapeFlag&1&&m&&!m.persisted){const{leave:O,delayLeave:w}=m,T=()=>O(g,S);w?w(h.el,S,T):T()}else S()},no=(h,d)=>{let g;for(;h!==d;)g=p(h),n(h),h=g;n(d)},io=(h,d,g)=>{const{bum:_,scope:m,update:S,subTree:O,um:w}=h;_&&ds(_),m.stop(),S&&(S.active=!1,Te(O,h,d,g)),w&&ae(w,d),ae(()=>{h.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Re=(h,d,g,_=!1,m=!1,S=0)=>{for(let O=S;O<h.length;O++)Te(h[O],d,g,_,m)},ts=h=>h.shapeFlag&6?ts(h.component.subTree):h.shapeFlag&128?h.suspense.next():p(h.anchor||h.el),Xr=(h,d,g)=>{h==null?d._vnode&&Te(d._vnode,null,null,!0):b(d._vnode||null,h,d,null,null,null,g),un(),Oi(),d._vnode=h},ut={p:b,um:Te,m:We,r:Yr,mt:Ds,mc:ue,pc:V,pbc:Ie,n:ts,o:t};let Fs,Ms;return e&&([Fs,Ms]=e(ut)),{render:Xr,hydrate:Fs,createApp:Pa(Xr,Fs)}}function Js({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ye({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function Fa(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Bi(t,e,s=!1){const r=t.children,n=e.children;if(L(r)&&L(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Fe(n[i]),a.el=o.el),s||Bi(o,a)),a.type===Is&&(a.el=o.el)}}function Ma(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(n=s[s.length-1],t[n]<c){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<c?i=a+1:o=a;c<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Hi(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Hi(e)}const qa=t=>t.__isTeleport,$e=Symbol.for("v-fgt"),Is=Symbol.for("v-txt"),it=Symbol.for("v-cmt"),Ws=Symbol.for("v-stc"),Ht=[];let Se=null;function oe(t=!1){Ht.push(Se=t?null:[])}function Ba(){Ht.pop(),Se=Ht[Ht.length-1]||null}let Gt=1;function bn(t){Gt+=t}function Ki(t){return t.dynamicChildren=Gt>0?Se||St:null,Ba(),Gt>0&&Se&&Se.push(t),t}function _e(t,e,s,r,n,i){return Ki(F(t,e,s,r,n,i,!0))}function mr(t,e,s,r,n){return Ki(Ae(t,e,s,r,n,!0))}function Ha(t){return t?t.__v_isVNode===!0:!1}function Dt(t,e){return t.type===e.type&&t.key===e.key}const Rs="__vInternal",Vi=({key:t})=>t??null,gs=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?X(t)||ce(t)||U(t)?{i:we,r:t,k:e,f:!!s}:t:null);function F(t,e=null,s=null,r=0,n=null,i=t===$e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Vi(e),ref:e&&gs(e),scopeId:Cs,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:we};return a?(qr(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=X(s)?8:16),Gt>0&&!o&&Se&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Se.push(l),l}const Ae=Ka;function Ka(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===oa)&&(t=it),Ha(t)){const a=Ct(t,e,!0);return s&&qr(a,s),Gt>0&&!i&&Se&&(a.shapeFlag&6?Se[Se.indexOf(t)]=a:Se.push(a)),a.patchFlag|=-2,a}if(tl(t)&&(t=t.__vccOpts),e){e=Va(e);let{class:a,style:l}=e;a&&!X(a)&&(e.class=$r(a)),Y(l)&&(mi(l)&&!L(l)&&(l=ee({},l)),e.style=Os(l))}const o=X(t)?1:aa(t)?128:qa(t)?64:Y(t)?4:U(t)?2:0;return F(t,e,s,r,n,o,i,!0)}function Va(t){return t?mi(t)||Rs in t?ee({},t):t:null}function Ct(t,e,s=!1){const{props:r,ref:n,patchFlag:i,children:o}=t,a=e?Ja(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Vi(a),ref:e&&e.ref?s&&n?L(n)?n.concat(gs(e)):[n,gs(e)]:gs(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==$e?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ct(t.ssContent),ssFallback:t.ssFallback&&Ct(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function za(t=" ",e=0){return Ae(Is,null,t,e)}function _s(t="",e=!1){return e?(oe(),mr(it,null,t)):Ae(it,null,t)}function Ce(t){return t==null||typeof t=="boolean"?Ae(it):L(t)?Ae($e,null,t.slice()):typeof t=="object"?Fe(t):Ae(Is,null,String(t))}function Fe(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ct(t)}function qr(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(L(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),qr(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!(Rs in e)?e._ctx=we:n===3&&we&&(we.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else U(e)?(e={default:e,_ctx:we},s=32):(e=String(e),r&64?(s=16,e=[za(e)]):s=8);t.children=e,t.shapeFlag|=s}function Ja(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=$r([e.class,r.class]));else if(n==="style")e.style=Os([e.style,r.style]);else if(Ss(n)){const i=e[n],o=r[n];o&&i!==o&&!(L(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function ke(t,e,s,r=null){Ee(t,e,7,[s,r])}const Wa=Ui();let Ga=0;function Ya(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Wa,i={uid:Ga++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new vo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Di(r,n),emitsOptions:xi(r,n),emit:null,emitted:null,propsDefaults:J,inheritAttrs:r.inheritAttrs,ctx:J,data:J,props:J,attrs:J,slots:J,refs:J,setupState:J,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Qo.bind(null,i),t.ce&&t.ce(i),i}let re=null,Br,yr;{const t=si(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Br=e("__VUE_INSTANCE_SETTERS__",s=>re=s),yr=e("__VUE_SSR_SETTERS__",s=>js=s)}const Pt=t=>{Br(t),t.scope.on()},nt=()=>{re&&re.scope.off(),Br(null)};function zi(t){return t.vnode.shapeFlag&4}let js=!1;function Xa(t,e=!1){e&&yr(e);const{props:s,children:r}=t.vnode,n=zi(t);Ia(t,s,n,e),La(t,r);const i=n?Qa(t,e):void 0;return e&&yr(!1),i}function Qa(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=yi(new Proxy(t.ctx,Ea));const{setup:r}=s;if(r){const n=t.setupContext=r.length>1?el(t):null;Pt(t),ot();const i=Ke(r,t,0,[t.props,n]);if(at(),nt(),Qn(i)){if(i.then(nt,nt),e)return i.then(o=>{wn(t,o,e)}).catch(o=>{xs(o,t,0)});t.asyncDep=i}else wn(t,i,e)}else Ji(t,e)}function wn(t,e,s){U(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Y(e)&&(t.setupState=Si(e)),Ji(t,s)}let Sn;function Ji(t,e,s){const r=t.type;if(!t.render){if(!e&&Sn&&!r.render){const n=r.template||Fr(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,c=ee(ee({isCustomElement:i,delimiters:a},o),l);r.render=Sn(n,c)}}t.render=r.render||ge}{Pt(t),ot();try{Ta(t)}finally{at(),nt()}}}function Za(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,s){return le(t,"get","$attrs"),e[s]}}))}function el(t){const e=s=>{t.exposed=s||{}};return{get attrs(){return Za(t)},slots:t.slots,emit:t.emit,expose:e}}function Ls(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Si(yi(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Bt)return Bt[s](t)},has(e,s){return s in e||s in Bt}}))}function tl(t){return U(t)&&"__vccOpts"in t}const ms=(t,e)=>Bo(t,e,js),sl="3.4.3",rl="http://www.w3.org/2000/svg",nl="http://www.w3.org/1998/Math/MathML",Me=typeof document<"u"?document:null,En=Me&&Me.createElement("template"),il={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Me.createElementNS(rl,t):e==="mathml"?Me.createElementNS(nl,t):Me.createElement(t,s?{is:s}:void 0);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Me.createTextNode(t),createComment:t=>Me.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Me.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{En.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=En.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},ol=Symbol("_vtc");function al(t,e,s){const r=t[ol];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const ll=Symbol("_vod"),cl=Symbol("");function ul(t,e,s){const r=t.style,n=X(s);if(s&&!n){if(e&&!X(e))for(const i in e)s[i]==null&&vr(r,i,"");for(const i in s)vr(r,i,s[i])}else{const i=r.display;if(n){if(e!==s){const o=r[cl];o&&(s+=";"+o),r.cssText=s}}else e&&t.removeAttribute("style");ll in t&&(r.display=i)}}const Tn=/\s*!important$/;function vr(t,e,s){if(L(s))s.forEach(r=>vr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=hl(t,e);Tn.test(s)?t.setProperty(jt(r),s.replace(Tn,""),"important"):t[r]=s}}const On=["Webkit","Moz","ms"],Gs={};function hl(t,e){const s=Gs[e];if(s)return s;let r=xt(e);if(r!=="filter"&&r in t)return Gs[e]=r;r=ti(r);for(let n=0;n<On.length;n++){const i=On[n]+r;if(i in t)return Gs[e]=i}return e}const kn="http://www.w3.org/1999/xlink";function dl(t,e,s,r,n){if(r&&e.startsWith("xlink:"))s==null?t.removeAttributeNS(kn,e.slice(6,e.length)):t.setAttributeNS(kn,e,s);else{const i=mo(e);s==null||i&&!ri(s)?t.removeAttribute(e):t.setAttribute(e,i?"":s)}}function fl(t,e,s,r,n,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,n,i),t[e]=s??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=s;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=s??"";c!==u&&(t.value=u),s==null&&t.removeAttribute(e);return}let l=!1;if(s===""||s==null){const c=typeof t[e];c==="boolean"?s=ri(s):s==null&&c==="string"?(s="",l=!0):c==="number"&&(s=0,l=!0)}try{t[e]=s}catch{}l&&t.removeAttribute(e)}function mt(t,e,s,r){t.addEventListener(e,s,r)}function pl(t,e,s,r){t.removeEventListener(e,s,r)}const xn=Symbol("_vei");function gl(t,e,s,r,n=null){const i=t[xn]||(t[xn]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=_l(e);if(r){const c=i[e]=vl(r,n);mt(t,a,c,l)}else o&&(pl(t,a,o,l),i[e]=void 0)}}const $n=/(?:Once|Passive|Capture)$/;function _l(t){let e;if($n.test(t)){e={};let r;for(;r=t.match($n);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):jt(t.slice(2)),e]}let Ys=0;const ml=Promise.resolve(),yl=()=>Ys||(ml.then(()=>Ys=0),Ys=Date.now());function vl(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Ee(bl(r,s.value),e,5,[r])};return s.value=t,s.attached=yl(),s}function bl(t,e){if(L(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Cn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,wl=(t,e,s,r,n,i,o,a,l)=>{const c=n==="svg";e==="class"?al(t,r,c):e==="style"?ul(t,s,r):Ss(e)?Or(e)||gl(t,e,s,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Sl(t,e,r,c))?fl(t,e,r,i,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),dl(t,e,r,c))};function Sl(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Cn(e)&&U(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Cn(e)&&X(s)?!1:e in t}const Pn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return L(e)?s=>ds(e,s):e};function El(t){t.target.composing=!0}function An(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xs=Symbol("_assign"),Qs={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Xs]=Pn(n);const i=r||n.props&&n.props.type==="number";mt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=ir(a)),t[Xs](a)}),s&&mt(t,"change",()=>{t.value=t.value.trim()}),e||(mt(t,"compositionstart",El),mt(t,"compositionend",An),mt(t,"change",An))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:s,trim:r,number:n}},i){if(t[Xs]=Pn(i),t.composing)return;const o=n||t.type==="number"?ir(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(s||r&&t.value.trim()===a)||(t.value=a))}},Tl=["ctrl","shift","alt","meta"],Ol={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Tl.some(s=>t[`${s}Key`]&&!e.includes(s))},In=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Ol[e[o]];if(a&&a(n,e))return}return t(n,...i)})},kl=ee({patchProp:wl},il);let Rn;function xl(){return Rn||(Rn=Na(kl))}const $l=(...t)=>{const e=xl().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Pl(r);if(!n)return;const i=e._component;!U(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.innerHTML="";const o=s(n,!1,Cl(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Cl(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Pl(t){return X(t)?document.querySelector(t):t}const Al="modulepreload",Il=function(t){return"/cute-boys/"+t},jn={},At=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){const i=document.getElementsByTagName("link");n=Promise.all(s.map(o=>{if(o=Il(o),o in jn)return;jn[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const p=i[f];if(p.href===o&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":Al,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((f,p)=>{u.addEventListener("load",f),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}return n.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Rl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>At(()=>Promise.resolve().then(()=>Xt),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Hr extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class jl extends Hr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ll extends Hr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ul extends Hr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nl=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Dl{constructor(e,{headers:s={},customFetch:r}={}){this.url=e,this.headers=s,this.fetch=Rl(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Nl(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},l;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:l}).catch(v=>{throw new jl(v)}),u=c.headers.get("x-relay-error");if(u&&u==="true")throw new Ll(c);if(!c.ok)throw new Ul(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield c.json():f==="application/octet-stream"?p=yield c.blob():f==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}var Fl=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},It=Fl();const Ml=It.fetch,Kr=It.fetch.bind(It),Wi=It.Headers,ql=It.Request,Bl=It.Response,Xt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wi,Request:ql,Response:Bl,default:Kr,fetch:Ml},Symbol.toStringTag,{value:"Module"}));class Hl{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Kr:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,f=null,p=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const I=await i.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=I:u=JSON.parse(I))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");b&&k&&k.length>1&&(f=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,p=406,v="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const b=await i.text();try{c=JSON.parse(b),Array.isArray(c)&&i.status===404&&(u=[],c=null,p=200,v="OK")}catch{i.status===404&&b===""?(p=204,v="No Content"):c={message:b}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&this.shouldThrowOnError)throw c}return{error:c,data:u,count:f,status:p,statusText:v}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}}class Kl extends Hl{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class yt extends Kl{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=s.map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}}class Vl{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new yt({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new yt({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new yt({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new yt({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new yt({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const zl="1.9.1",Jl={"X-Client-Info":`postgrest-js/${zl}`};class Vr{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Jl),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new Vl(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Vr(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,count:n}={}){let i;const o=new URL(`${this.url}/rpc/${e}`);let a;r?(i="HEAD",Object.entries(s).forEach(([c,u])=>{o.searchParams.append(c,`${u}`)})):(i="POST",a=s);const l=Object.assign({},this.headers);return n&&(l.Prefer=`count=${n}`),new yt({method:i,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}const Wl="2.9.1",Gl={"X-Client-Info":`realtime-js/${Wl}`},Yl="1.0.0",Gi=1e4,Xl=1e3;var kt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(kt||(kt={}));var de;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(de||(de={}));var be;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(be||(be={}));var br;(function(t){t.websocket="websocket"})(br||(br={}));var tt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(tt||(tt={}));class Yi{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Ql{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Zs{constructor(e,s,r={},n=Gi){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ln;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ln||(Ln={}));class Kt{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kt.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Kt.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Kt.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=i[c];if(f){const p=u.map(k=>k.presence_ref),v=f.map(k=>k.presence_ref),E=u.filter(k=>v.indexOf(k.presence_ref)<0),b=f.filter(k=>p.indexOf(k.presence_ref)<0);E.length>0&&(a[c]=E),b.length>0&&(l[c]=b)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const f=e[a].map(v=>v.presence_ref),p=u.filter(v=>f.indexOf(v.presence_ref)<0);e[a].unshift(...p)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(z||(z={}));const Un=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Zl(o,t,e,n),i),{})},Zl=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Xi(i,o):wr(o)},Xi=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return rc(e,s)}switch(t){case z.bool:return ec(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return tc(e);case z.json:case z.jsonb:return sc(e);case z.timestamp:return nc(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return wr(e);default:return wr(e)}},wr=t=>t,ec=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tc=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sc=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rc=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Xi(e,a))}return t},nc=t=>typeof t=="string"?t.replace(" ","T"):t;var Nn;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nn||(Nn={}));var Dn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(Dn||(Dn={}));var Fn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fn||(Fn={}));class zr{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},s.config),this.timeout=this.socket.timeout,this.joinPush=new Zs(this,be.join,this.params,this.timeout),this.rejoinTimer=new Yi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(be.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Kt(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,p=(u=f==null?void 0:f.length)!==null&&u!==void 0?u:0,v=[];for(let E=0;E<p;E++){const b=f[E],{filter:{event:k,schema:I,table:H,filter:$}}=b,R=c&&c[E];if(R&&R.event===k&&R.schema===I&&R.table===H&&R.filter===$)v.push(Object.assign(Object.assign({},b),{id:R.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{apikey:(r=this.socket.accessToken)!==null&&r!==void 0?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=s.timeout)!==null&&n!==void 0?n:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(be.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Zs(this,be.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Zs(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=be;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(v=>{var E,b,k;return((E=v.filter)===null||E===void 0?void 0:E.event)==="*"||((k=(b=v.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(v=>v.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var E,b,k,I,H,$;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const R=v.id,A=(E=v.filter)===null||E===void 0?void 0:E.event;return R&&((b=s.ids)===null||b===void 0?void 0:b.includes(R))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const R=(H=(I=v==null?void 0:v.filter)===null||I===void 0?void 0:I.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return R==="*"||R===(($=s==null?void 0:s.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const E=p.data,{schema:b,table:k,commit_timestamp:I,type:H,errors:$}=E;p=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:I,eventType:H,new:{},old:{},errors:$}),this._getPayloadRecords(E))}v.callback(p,r)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&zr.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(be.close,{},e)}_onError(e){this._on(be.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Un(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Un(e.columns,e.old_record)),s}}const ic=()=>{},oc=typeof WebSocket<"u";class ac{constructor(e,s){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Gl,this.params={},this.timeout=Gi,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ic,this.conn=null,this.sendBuffer=[],this.serializer=new Ql,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>At(()=>Promise.resolve().then(()=>Xt),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${br.websocket}`,s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;n&&(this.accessToken=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Yi(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(oc){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new lc(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),At(()=>import("./browser-Q6OzlgWg.js").then(e=>e.b),__vite__mapDeps([])).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case kt.connecting:return tt.Connecting;case kt.open:return tt.Open;case kt.closing:return tt.Closing;default:return tt.Closed}}isConnected(){return this.connectionState()===tt.Open}channel(e,s={config:{}}){const r=new zr(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(be.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yl}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;(o&&o===this.pendingHeartbeatRef||n===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(be.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Xl,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class lc{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=kt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Jr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class cc extends Jr{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Mn extends Jr{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var uc=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Qi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>At(()=>Promise.resolve().then(()=>Xt),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},hc=()=>uc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield At(()=>Promise.resolve().then(()=>Xt),void 0)).Response:Response});var Lt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const er=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dc=(t,e)=>Lt(void 0,void 0,void 0,function*(){const s=yield hc();t instanceof s?t.json().then(r=>{e(new cc(er(r),t.status||500))}).catch(r=>{e(new Mn(er(r),r))}):e(new Mn(er(t),t))}),fc=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};function Us(t,e,s,r,n,i){return Lt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,fc(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>dc(l,a))})})}function Sr(t,e,s,r){return Lt(this,void 0,void 0,function*(){return Us(t,"GET",e,s,r)})}function qe(t,e,s,r,n){return Lt(this,void 0,void 0,function*(){return Us(t,"POST",e,r,n,s)})}function pc(t,e,s,r,n){return Lt(this,void 0,void 0,function*(){return Us(t,"PUT",e,r,n,s)})}function Zi(t,e,s,r,n){return Lt(this,void 0,void 0,function*(){return Us(t,"DELETE",e,r,n,s)})}var pe=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const gc={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _c{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Qi(n)}uploadOrUpdate(e,s,r,n){return pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},qn),n),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl)):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(s),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield u.json();return u.ok?{data:{path:l,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(te(i))return{data:null,error:i};throw i}})}upload(e,s,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:qn.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield f.json();return f.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(te(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=yield qe(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:this.headers}),n=new URL(this.url+r.url),i=n.searchParams.get("token");if(!i)throw new Jr("No token returned by API");return{data:{signedUrl:n.toString(),path:e,token:i},error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}update(e,s,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s){return pe(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s},{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}copy(e,s){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield qe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s},{headers:this.headers})).Key},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,r){return pe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield qe(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return pe(this,void 0,void 0,function*(){try{const n=yield qe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}download(e,s){return pe(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Sr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(te(a))return{data:null,error:a};throw a}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}list(e,s,r){return pe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},gc),s),{prefix:e||""});return{data:yield qe(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const mc="2.5.5",yc={"X-Client-Info":`storage-js/${mc}`};var dt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class vc{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},yc),s),this.fetch=Qi(r)}listBuckets(){return dt(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(te(e))return{data:null,error:e};throw e}})}getBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return dt(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return dt(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}emptyBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}deleteBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}}class bc extends vc{constructor(e,s={},r){super(e,s,r)}from(e){return new _c(this.url,this.headers,e,this.fetch)}}const wc="2.39.2";let qt="";typeof Deno<"u"?qt="deno":typeof document<"u"?qt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qt="react-native":qt="node";const Sc={"X-Client-Info":`supabase-js-${qt}/${wc}`};var Ec=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Tc=t=>{let e;return t?e=t:typeof fetch>"u"?e=Kr:e=fetch,(...s)=>e(...s)},Oc=()=>typeof Headers>"u"?Wi:Headers,kc=(t,e,s)=>{const r=Tc(s),n=Oc();return(i,o)=>Ec(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};function xc(t){return t.replace(/\/$/,"")}function $c(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),i)}}function Cc(t){return Math.round(Date.now()/1e3)+t}function Pc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ye=()=>typeof document<"u",Xe={tested:!1,writable:!1},Vt=()=>{if(!ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xe.tested)return Xe.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xe.tested=!0,Xe.writable=!0}catch{Xe.tested=!0,Xe.writable=!1}return Xe.writable};function tr(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const eo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>At(()=>Promise.resolve().then(()=>Xt),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Ac=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Qe=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ls=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},sr=async(t,e)=>{await t.removeItem(e)};function Ic(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|c,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),c!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class Ns{constructor(){this.promise=new Ns.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Ns.promiseConstructor=Promise;function Bn(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(Ic(r))}async function Rc(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function jc(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Lc(t){return("0"+t.toString(16)).substr(-2)}function ft(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Lc).join("")}async function Uc(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Nc(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pt(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Uc(t);return Nc(s)}class Wr extends Error{constructor(e,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Dc extends Wr{constructor(e,s){super(e,s),this.name="AuthApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Fc(t){return D(t)&&t.name==="AuthApiError"}class to extends Wr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class lt extends Wr{constructor(e,s,r){super(e),this.name=s,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gt extends lt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class rr extends lt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class cs extends lt{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class us extends lt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hn extends lt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Er extends lt{constructor(e,s){super(e,"AuthRetryableFetchError",s)}}function nr(t){return D(t)&&t.name==="AuthRetryableFetchError"}class Mc extends lt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s),this.reasons=r}}var qc=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const vt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Bc=[502,503,504];async function Kn(t){if(!Ac(t))throw new Er(vt(t),0);if(Bc.includes(t.status))throw new Er(vt(t),t.status);let e;try{e=await t.json()}catch(s){throw new to(vt(s),s)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)?new Mc(vt(e),t.status,e.weak_password.reasons):new Dc(vt(e),t.status||500)}const Hc=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function M(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Kc(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Kc(t,e,s,r,n,i){const o=Hc(e,r,n,i);let a;try{a=await t(s,o)}catch(l){throw console.error(l),new Er(vt(l),0)}if(a.ok||await Kn(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Kn(l)}}function Ze(t){var e;let s=null;Wc(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Cc(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Vn(t){const e=Ze(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Be(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Vc(t){return{data:t,error:null}}function zc(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=qc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Jc(t){return t}function Wc(t){return t.access_token&&t.refresh_token&&t.expires_in}var Gc=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Yc{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=eo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Be})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Gc(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:zc,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(D(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Be})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Jc});if(u.error)throw u.error;const f=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(E=>{const b=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);c[`${k}Page`]=b}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Be})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Be})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Be})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(D(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}}const so="2.62.0",Xc="http://localhost:9999",Qc="supabase.auth.token",Zc={"X-Client-Info":`gotrue-js/${so}`},zn=10,eu={getItem:t=>Vt()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Vt()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Vt()&&globalThis.localStorage.removeItem(t)}};function Jn(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function tu(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _t={debug:!!(globalThis&&Vt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ro extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class su extends ro{}async function ru(t,e,s){_t.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),_t.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){_t.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{_t.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw _t.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new su(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_t.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}tu();const nu={url:Xc,storageKey:Qc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zc,flowType:"implicit",debug:!1},Ft=30*1e3,Wn=3;async function Gn(t,e,s){return await s()}class Yt{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yt.nextInstanceID,Yt.nextInstanceID+=1,this.instanceID>0&&ye()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},nu),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Yc({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=eo(n.fetch),this.lock=n.lock||Gn,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,n.lock?this.lock=n.lock:ye()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=ru:this.lock=Gn,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Vt()?this.storage=eu:(this.memoryStorage={},this.storage=Jn(this.memoryStorage)):(this.memoryStorage={},this.storage=Jn(this.memoryStorage)),ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${so}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=ye()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:n,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return D(e)?{error:e}:{error:new to("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var s,r,n;try{await this._removeSession();let i;if("email"in e){const{email:u,password:f,options:p}=e;let v=null,E=null;if(this.flowType==="pkce"){const b=ft();await Qe(this.storage,`${this.storageKey}-code-verifier`,b),v=await pt(b),E=b===v?"plain":"s256"}i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:E},xform:Ze})}else if("phone"in e){const{phone:u,password:f,options:p}=e;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ze})}else throw new cs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{await this._removeSession();let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vn})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vn})}else throw new cs("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new rr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await ls(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/"),{data:i,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ze});return await sr(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new rr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}async signInWithIdToken(e){await this._removeSession();try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ze}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new rr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:l}=e;let c=null,u=null;if(this.flowType==="pkce"){const p=ft();await Qe(this.storage,`${this.storageKey}-code-verifier`,p),c=await pt(p),u=p===c?"plain":"s256"}const{error:f}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new cs("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ze});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{await this._removeSession();let i=null,o=null;if(this.flowType==="pkce"){const a=ft();await Qe(this.storage,`${this.storageKey}-code-verifier`,a),i=await pt(a),o=a===i?"plain":"s256"}return await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Vc})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new gt;const{error:n}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await M(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await M(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new cs("You must provide either an email or phone number and a type")}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r)return{data:{session:e},error:null};const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Be}):await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0,xform:Be})})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new gt;const o=n.session;let a=null,l=null;if(this.flowType==="pkce"&&e.email!=null){const f=ft();await Qe(this.storage,`${this.storageKey}-code-verifier`,f),a=await pt(f),l=f===a?"plain":"s256"}const{data:c,error:u}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Be});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Bn(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=Bn(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(D(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new gt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!ye())throw new us("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new us("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Hn("Not a valid PKCE flow url.");const s=tr(window.location.href);if(e){if(!s.code)throw new Hn("No code detected.");const{data:H,error:$}=await this._exchangeCodeForSession(s.code);if($)throw $;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:H.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new us(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=s;if(!i||!a||!o||!c)throw new us("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let p=u+f;l&&(p=parseInt(l));const v=p-u;v*1e3<=Ft&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const E=p-f;u-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,p,u):u-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",E,p,u);const{data:b,error:k}=await this._getUser(i);if(k)throw k;const I={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:s.type},error:null}}catch(s){if(D(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=tr(window.location.href);return!!(ye()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=tr(window.location.href),s=await ls(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Fc(a)&&(a.status===404||a.status===401)))return{error:a}}return e!=="others"&&(await this._removeSession(),await sr(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const s=Pc(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;if(this.flowType==="pkce"){const i=ft();await Qe(this.storage,`${this.storageKey}-code-verifier`,`${i}/PASSWORD_RECOVERY`),r=await pt(i),n=i===r?"plain":"s256"}try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:f,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return ye()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await jc(async n=>(await Rc(n*200),this._debug(s,"refreshing attempt",n),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ze})),(n,i,o)=>o&&o.error&&nr(o.error)&&Date.now()+(n+1)*200-r<Ft)}catch(r){if(this._debug(s,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),ye()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await ls(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+zn;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${zn}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),nr(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Ns;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),D(i)){const o={session:null,error:i};return nr(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await Qe(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await sr(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ft);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Ft);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ft}ms, refresh threshold is ${Wn} ticks`),n<=Wn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ro)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const i=ft();await Qe(this.storage,`${this.storageKey}-code-verifier`,i);const o=await pt(i),a=i===o?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",o,"method",a);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const{data:a,error:l}=await M(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(!((n=a==null?void 0:a.totp)===null||n===void 0)&&n.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(D(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(D(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:r,totp:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Yt.nextInstanceID=0;class iu extends Yt{constructor(e){super(e)}}var ou=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const au={headers:Sc},lu={schema:"public"},cu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uu={};class hu{constructor(e,s,r){var n,i,o,a,l,c,u,f;if(this.supabaseUrl=e,this.supabaseKey=s,this.from=k=>this.rest.from(k),this.schema=k=>this.rest.schema(k),this.rpc=(k,I={},H)=>this.rest.rpc(k,I,H),!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const p=xc(e);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;const v=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,E={db:lu,realtime:uu,auth:Object.assign(Object.assign({},cu),{storageKey:v}),global:au},b=$c(r??{},E);this.storageKey=(i=(n=b.auth)===null||n===void 0?void 0:n.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=(o=b.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=b.auth)!==null&&l!==void 0?l:{},this.headers,(c=b.global)===null||c===void 0?void 0:c.fetch),this.fetch=kc(s,this._getAccessToken.bind(this),(u=b.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},b.realtime)),this.rest=new Vr(`${p}/rest/v1`,{headers:this.headers,schema:(f=b.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Dl(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bc(this.storageUrl,this.headers,this.fetch)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return ou(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,debug:a},l,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iu({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,debug:a,fetch:c})}_initRealtimeClient(e){return new ac(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const du=(t,e,s)=>new hu(t,e,s),fu="https://dblrwanxorlnixbbttym.supabase.co",pu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRibHJ3YW54b3Jsbml4YmJ0dHltIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzQ2Mzk1MjcsImV4cCI6MTk5MDIxNTUyN30.F6apDmv8wMk-VohaEs4hhLXNorZuGEBLOWiLFaCMgcY",wt=du(fu,pu),gu={class:"grid-square"},_u=["src"],mu=Ps({__name:"GridSquare",props:{squareNo:{},images:{}},setup(t){const e=t,s=ms(()=>e.images[e.squareNo]),r=ms(()=>e.images[e.squareNo].imageName),n=ms(()=>"height: 50px; width: 50px;");return(i,o)=>(oe(),_e("div",gu,[s.value?(oe(),_e("img",{key:0,alt:"image name",src:r.value,style:Os(n.value)},null,12,_u)):(oe(),_e("button",{key:1,onClick:o[0]||(o[0]=a=>i.$emit("gridSquareClicked",i.squareNo))}))]))}});var yu={VITE_SUPABASE_URL:"https://dblrwanxorlnixbbttym.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRibHJ3YW54b3Jsbml4YmJ0dHltIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzQ2Mzk1MjcsImV4cCI6MTk5MDIxNTUyN30.F6apDmv8wMk-VohaEs4hhLXNorZuGEBLOWiLFaCMgcY",BASE_URL:"/cute-boys/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Ut=t=>(Zo("data-v-511586b4"),t=t(),ea(),t),vu={class:"upload-modal"},bu={class:"upload-modal__inner"},wu={class:"upload-modal__header"},Su={class:"upload-modal__body"},Eu={key:0},Tu={class:"upload-modal__form"},Ou={class:"form-group"},ku=Ut(()=>F("label",{for:"image-upload"},"Image:",-1)),xu={class:"form-group"},$u=Ut(()=>F("label",{for:"image-size"},"Number of squares?",-1)),Cu=Ut(()=>F("small",null," The image will be a sqaure, so if you set to 10 here your image will take up 10 sqaures, you will be charged £1 per square. ",-1)),Pu={class:"upload-modal__buttons"},Au={key:1},Iu=Ut(()=>F("label",{for:"email"},"Email",-1)),Ru=Ut(()=>F("label",{for:"password"},"Password",-1)),ju={class:"upload-modal__buttons"},Lu=Ut(()=>F("button",{type:"submit",class:"button primary-button"}," Submit ",-1)),Uu=Ps({__name:"UploadModal",props:{squareNo:{},modalType:{}},emits:["closeModal"],setup(t,{emit:e}){const s=t,r=e,n=xe(""),i=xe(""),o=xe({squareNo:s.squareNo,imageName:"",imageSizeWidth:10}),a=yu,l=async()=>{if(console.log("Submittin"),console.log(o.value),o.value.imageName===""){alert("Please upload an image");return}try{const{error:E}=await wt.from("Images").insert(o.value);if(E)throw E;r("closeModal")}catch(E){console.error(E)}},c=E=>{var I;const b=E.target,k=(I=b.files)==null?void 0:I[0];if(console.log("File input ",b),console.log("File ",k),k){const H=new FileReader;H.onload=$=>{var A;const R=new Image;R.src=(A=$.target)==null?void 0:A.result,console.log("img src ",R.src),R.onload=()=>{console.log("onload");const Q=document.createElement("canvas"),fe=Q.getContext("2d"),ue=o.value.imageSizeWidth,ct=o.value.imageSizeWidth;Q.width=ue,Q.height=ct,fe==null||fe.drawImage(R,0,0,ue,ct),Q.toBlob(Ie=>{const ze=new File([Ie],k.name,{type:"image/jpeg",lastModified:Date.now()});u(ze)},"image/jpeg")}},H.readAsDataURL(k)}},u=async E=>{const b=E,k=`${a.VITE_SUPABASE_URL}/storage/v1/object/public/images/public/cute-boys`;console.log("Creating image from file ",b);try{if(!E||E.length===0)throw new Error("You must select an image to upload.");const I=`${b.name}`,H=`${I}`;console.log("FILES ",b);let $=await wt.storage.from("images/public/cute-boys").upload(H,b);if(console.log($),$.error)throw $.error;o.value.imageName=`${k}/${I}?width=${o.value.imageSizeWidth}&height=${o.value.imageSizeWidth}`}catch(I){alert(I.message)}},f=async()=>{try{const{error:E}=await wt.auth.signInWithPassword({email:n.value,password:i.value});if(E)throw E;sessionStorage.setItem("user","true"),r("closeModal",!0)}catch{console.log("Error sigining in")}},p=async()=>{try{const{error:E}=await wt.auth.signUp({email:n.value,password:i.value});if(E)throw E;r("closeModal")}catch{console.error("Error signing UP")}},v=()=>{s.modalType==="login"?f():p()};return(E,b)=>(oe(),_e("article",vu,[F("section",bu,[F("div",wu,[F("h2",null,yo(E.modalType==="upload"?"Upload an image":"Sign in / Sign up"),1)]),F("div",Su,[E.modalType==="upload"?(oe(),_e("div",Eu,[F("form",Tu,[F("div",Ou,[ku,F("input",{type:"file",accept:"image/*",image:"imageUpload",required:"",name:"image-upload",onChange:c},null,32)]),F("div",xu,[$u,Vs(F("input",{type:"number",name:"image-size",required:"","onUpdate:modelValue":b[0]||(b[0]=k=>o.value.imageSizeWidth=k)},null,512),[[Qs,o.value.imageSizeWidth]]),Cu]),F("div",Pu,[F("button",{class:"button secondary-button",onClick:b[1]||(b[1]=k=>E.$emit("closeModal"))}," Cancel "),F("button",{class:"button primary-button",onClick:In(l,["prevent"])}," Submit ")])])])):(oe(),_e("div",Au,[F("form",{onSubmit:In(v,["prevent"])},[F("div",null,[Iu,Vs(F("input",{id:"email",type:"email","onUpdate:modelValue":b[2]||(b[2]=k=>n.value=k)},null,512),[[Qs,n.value]])]),F("div",null,[Ru,Vs(F("input",{id:"password",type:"password","onUpdate:modelValue":b[3]||(b[3]=k=>i.value=k)},null,512),[[Qs,i.value]])]),F("div",ju,[F("button",{class:"button secondary-button",onClick:b[4]||(b[4]=k=>E.$emit("closeModal"))}," Cancel "),Lu])],32)]))])])]))}}),Nu=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Du=Nu(Uu,[["__scopeId","data-v-511586b4"]]),Fu="/cute-boys/logo.png",Mu={class:"header"},qu=F("article",{class:"header__logo"},[F("img",{src:Fu,alt:"cute butts",class:"header__logo"})],-1),Bu={class:"header__buttons"},Hu=Ps({__name:"SignIn",props:["isLoggedIn"],emits:["showSignin","signUp","signOut"],setup(t,{emit:e}){const s=e;async function r(){try{const{error:n}=await wt.auth.signOut();if(n)throw new Error("Error");sessionStorage.removeItem("user"),s("signOut")}catch(n){console.log(n)}}return(n,i)=>(oe(),_e("section",Mu,[qu,F("article",Bu,[t.isLoggedIn?_s("",!0):(oe(),_e("button",{key:0,onClick:i[0]||(i[0]=o=>n.$emit("showSignin")),class:"button secondary-button-alt"}," Sign In ")),t.isLoggedIn?_s("",!0):(oe(),_e("button",{key:1,class:"button primary-button-alt",onClick:i[1]||(i[1]=o=>n.$emit("signUp","signup"))}," Sign Up ")),t.isLoggedIn?(oe(),_e("button",{key:2,onClick:r,class:"button secondary-button"}," Sign Out ")):_s("",!0)])]))}}),Ku={class:"container"},Vu=F("section",{class:"intro"},[F("h1",{class:"hero__heading"},"Cute Butts"),F("p",null,"The cutest butts on the internet")],-1),zu={class:"grid-container"},Yn=10,Ju=Ps({__name:"App",setup(t){const e=xe([]),s=xe(1),r=xe(!1),n=xe([]),i=xe(),o=xe(0),a=xe(!1);let l="";const c=Math.floor(window.innerWidth/Yn),u=1e6-o.value,f=()=>{const $=window.innerHeight,A=Math.ceil($/Yn)*c,Q=Array.from({length:Math.min(A,u)},(fe,ue)=>ue+(s.value-1)*A);e.value=[...e.value,...Q],s.value++},p=()=>{window.innerHeight+window.scrollY==document.body.offsetHeight&&f()},v=()=>!!sessionStorage.getItem("user"),E=$=>{v()?l="upload":l="login",i.value=$,r.value=!0},b=$=>{H(),r.value=!1,l="",$&&(a.value=!0)},k=()=>{a.value=!1},I=$=>{l=$,r.value=!0},H=async()=>{try{const{error:$,data:R}=await wt.from("Images").select("*");if($)throw $;o.value=R.length,n.value=R.reduce((A,Q)=>(A[Q.squareNo]=Q,A),{})}catch{console.log("Error fetching")}};return Ii(()=>{f(),H(),a.value=!!sessionStorage.getItem("user"),console.log("User logged in ",a.value),window.addEventListener("scroll",p)}),Ri(()=>{window.removeEventListener("scroll",p)}),($,R)=>(oe(),_e("main",null,[Ae(Hu,{onSignUp:I,onShowSignin:E,onSignOut:k,isLoggedIn:a.value},null,8,["isLoggedIn"]),F("article",Ku,[Vu,F("section",zu,[(oe(!0),_e($e,null,Sa(e.value,A=>(oe(),mr(mu,{key:A,"square-no":A,images:n.value,onGridSquareClicked:E},null,8,["square-no","images"]))),128))])]),r.value?(oe(),mr(Du,{key:0,"square-no":i.value,"modal-type":wi(l),onCloseModal:b},null,8,["square-no","modal-type"])):_s("",!0)]))}});$l(Ju).mount("#app");
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}